def p(l):(b,u),(g,x),(e,f)=((b,u)for b in range(len(l))for u in range(len(l))if l[b][u]);f=max(b,e)-g;return[[max(max(l))*(((r:=abs(b-g))%f<1and(a:=abs(u-x))<=r)or((a:=abs(u-x))%f<1and r<=a))for u in range(len(l))]for b in range(len(l))]
