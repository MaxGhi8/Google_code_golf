def p(g):R=range(len(g));(a,b),(c,d),(e,f)=((i,j)for i in R for j in R if g[i][j]);D=max(a,e)-c;return[[max(max(g))*(((x:=abs(i-c))%D<1and(y:=abs(j-d))<=x)or((y:=abs(j-d))%D<1and x<=y))for j in R]for i in R]