def p(g,R=range(18)):u=[max(r)for r in g[1:]].index(1)+1;return[[max(max(r[j%u::u]for r in g[i%u::u]))for j in R]for i in R]