p=lambda g,e=enumerate:[[c or((x:=r[:j].count(5))%(h:=sum(g[0])//10)|(y:=(t:=[*zip(*g)])[j][:i].count(5))%(v:=sum(t[0])//10)<1)*(x//h==y//v<3)*(x//h+1)for j,c in e(r)]for i,r in e(g)]