def p(g):
 for i in' '*4:g=[(len({*r})<3)*r or((S:=[*filter(None,r)])*10)[-r.index(S[0])%len(S):][:len(r)]for r in zip(*g[::-1])]
 return g