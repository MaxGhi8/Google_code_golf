def p(g):R=range(n:=len(g));t=(L:=sum(g,[])).index(k:=max(L));return[[k*(i-t//n in(j-t%n,t%n-j))for j in R]for i in R]